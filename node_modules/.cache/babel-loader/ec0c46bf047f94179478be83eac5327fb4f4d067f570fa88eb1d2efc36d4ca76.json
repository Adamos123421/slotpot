{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport socketService from '../services/socketService';\nconst useOnlineCount = () => {\n  _s();\n  const [onlineCount, setOnlineCount] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  useEffect(() => {\n    // Listen for user join/leave events to update count\n    const handleUserJoined = data => {\n      console.log('ðŸ‘¤ User joined, updating count:', data.totalUsers);\n      setOnlineCount(data.totalUsers || 0);\n    };\n    const handleUserLeft = data => {\n      console.log('ðŸ‘¤ User left, updating count:', data.totalUsers);\n      setOnlineCount(data.totalUsers || 0);\n    };\n\n    // Request current count when connected\n    const handleConnect = () => {\n      console.log('ðŸ”Œ Socket connected, requesting online count...');\n      if (socketService.socket) {\n        socketService.socket.emit('getOnlineCount');\n      }\n    };\n\n    // Set up event listeners\n    socketService.on('user:joined', handleUserJoined);\n    socketService.on('user:left', handleUserLeft);\n    socketService.on('connect', handleConnect);\n    socketService.on('onlineCount', data => {\n      console.log('ðŸ“Š Received online count:', data);\n      setOnlineCount(data.count || 0);\n    });\n\n    // Request initial count if already connected\n    if (socketService.isConnected && socketService.socket) {\n      socketService.socket.emit('getOnlineCount');\n    }\n    return () => {\n      socketService.off('user:joined', handleUserJoined);\n      socketService.off('user:left', handleUserLeft);\n      socketService.off('connect', handleConnect);\n      socketService.off('onlineCount');\n    };\n  }, []);\n  return {\n    onlineCount,\n    isLoading\n  };\n};\n_s(useOnlineCount, \"VaY0zL/3rhj8WbwXPO3Znu+G94s=\");\nexport default useOnlineCount;","map":{"version":3,"names":["useState","useEffect","socketService","useOnlineCount","_s","onlineCount","setOnlineCount","isLoading","setIsLoading","handleUserJoined","data","console","log","totalUsers","handleUserLeft","handleConnect","socket","emit","on","count","isConnected","off"],"sources":["C:/Users/adams/OneDrive/Desktop/Work/slotpot/src/hooks/useOnlineCount.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport socketService from '../services/socketService';\r\n\r\nconst useOnlineCount = () => {\r\n  const [onlineCount, setOnlineCount] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Listen for user join/leave events to update count\r\n    const handleUserJoined = (data) => {\r\n      console.log('ðŸ‘¤ User joined, updating count:', data.totalUsers);\r\n      setOnlineCount(data.totalUsers || 0);\r\n    };\r\n\r\n    const handleUserLeft = (data) => {\r\n      console.log('ðŸ‘¤ User left, updating count:', data.totalUsers);\r\n      setOnlineCount(data.totalUsers || 0);\r\n    };\r\n\r\n    // Request current count when connected\r\n    const handleConnect = () => {\r\n      console.log('ðŸ”Œ Socket connected, requesting online count...');\r\n      if (socketService.socket) {\r\n        socketService.socket.emit('getOnlineCount');\r\n      }\r\n    };\r\n\r\n    // Set up event listeners\r\n    socketService.on('user:joined', handleUserJoined);\r\n    socketService.on('user:left', handleUserLeft);\r\n    socketService.on('connect', handleConnect);\r\n    socketService.on('onlineCount', (data) => {\r\n      console.log('ðŸ“Š Received online count:', data);\r\n      setOnlineCount(data.count || 0);\r\n    });\r\n\r\n    // Request initial count if already connected\r\n    if (socketService.isConnected && socketService.socket) {\r\n      socketService.socket.emit('getOnlineCount');\r\n    }\r\n\r\n    return () => {\r\n      socketService.off('user:joined', handleUserJoined);\r\n      socketService.off('user:left', handleUserLeft);\r\n      socketService.off('connect', handleConnect);\r\n      socketService.off('onlineCount');\r\n    };\r\n  }, []);\r\n\r\n  return { onlineCount, isLoading };\r\n};\r\n\r\nexport default useOnlineCount;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,aAAa,MAAM,2BAA2B;AAErD,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGN,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACO,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAEjDC,SAAS,CAAC,MAAM;IACd;IACA,MAAMQ,gBAAgB,GAAIC,IAAI,IAAK;MACjCC,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAEF,IAAI,CAACG,UAAU,CAAC;MAC/DP,cAAc,CAACI,IAAI,CAACG,UAAU,IAAI,CAAC,CAAC;IACtC,CAAC;IAED,MAAMC,cAAc,GAAIJ,IAAI,IAAK;MAC/BC,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEF,IAAI,CAACG,UAAU,CAAC;MAC7DP,cAAc,CAACI,IAAI,CAACG,UAAU,IAAI,CAAC,CAAC;IACtC,CAAC;;IAED;IACA,MAAME,aAAa,GAAGA,CAAA,KAAM;MAC1BJ,OAAO,CAACC,GAAG,CAAC,iDAAiD,CAAC;MAC9D,IAAIV,aAAa,CAACc,MAAM,EAAE;QACxBd,aAAa,CAACc,MAAM,CAACC,IAAI,CAAC,gBAAgB,CAAC;MAC7C;IACF,CAAC;;IAED;IACAf,aAAa,CAACgB,EAAE,CAAC,aAAa,EAAET,gBAAgB,CAAC;IACjDP,aAAa,CAACgB,EAAE,CAAC,WAAW,EAAEJ,cAAc,CAAC;IAC7CZ,aAAa,CAACgB,EAAE,CAAC,SAAS,EAAEH,aAAa,CAAC;IAC1Cb,aAAa,CAACgB,EAAE,CAAC,aAAa,EAAGR,IAAI,IAAK;MACxCC,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEF,IAAI,CAAC;MAC9CJ,cAAc,CAACI,IAAI,CAACS,KAAK,IAAI,CAAC,CAAC;IACjC,CAAC,CAAC;;IAEF;IACA,IAAIjB,aAAa,CAACkB,WAAW,IAAIlB,aAAa,CAACc,MAAM,EAAE;MACrDd,aAAa,CAACc,MAAM,CAACC,IAAI,CAAC,gBAAgB,CAAC;IAC7C;IAEA,OAAO,MAAM;MACXf,aAAa,CAACmB,GAAG,CAAC,aAAa,EAAEZ,gBAAgB,CAAC;MAClDP,aAAa,CAACmB,GAAG,CAAC,WAAW,EAAEP,cAAc,CAAC;MAC9CZ,aAAa,CAACmB,GAAG,CAAC,SAAS,EAAEN,aAAa,CAAC;MAC3Cb,aAAa,CAACmB,GAAG,CAAC,aAAa,CAAC;IAClC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEhB,WAAW;IAAEE;EAAU,CAAC;AACnC,CAAC;AAACH,EAAA,CA/CID,cAAc;AAiDpB,eAAeA,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}