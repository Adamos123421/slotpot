{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adams\\\\OneDrive\\\\Desktop\\\\Work\\\\slotpot\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { TonConnectUIProvider } from '@tonconnect/ui-react';\nimport Chat from './components/Chat';\nimport GameArea from './components/GameArea';\nimport MobileChat from './components/MobileChat';\nimport WalletConnection from './components/WalletConnection';\nimport WinnerBroadcast from './components/WinnerBroadcast';\nimport useTelegramWebApp from './hooks/useTelegramWebApp';\nimport useJackpotContract from './hooks/useJackpotContract';\nimport socketService from './services/socketService';\nimport winnerCoordinator from './services/winnerCoordinator';\nimport { uiOptions } from './config/tonconnect';\nimport { MessageCircle, Trophy, Users, DollarSign } from 'lucide-react';\nimport './App.css';\nimport './components/Header.css';\n\n// TON Connect manifest URL - use remote manifest to avoid 500 errors\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst manifestUrl = \"https://raw.githubusercontent.com/Vodka2134156/kzsks/main/manifest.json\";\nfunction AppContent() {\n  _s();\n  var _contractState$timer2;\n  // Local UI state\n  const [currentRound, setCurrentRound] = useState(53408);\n  const [timeRemaining, setTimeRemaining] = useState(30);\n  const [activeTab, setActiveTab] = useState('jackpot');\n  const [betAmount, setBetAmount] = useState(0.11);\n  const [showWinnerAnnouncement, setShowWinnerAnnouncement] = useState(false);\n\n  // Winner state management (moved from GameArea.js)\n  const [waitingForWinner, setWaitingForWinner] = useState(false);\n  const [contractWinner, setContractWinner] = useState(null);\n  const [postWinnerLoading, setPostWinnerLoading] = useState(false);\n  const [, setIsAnyWinnerDisplayActive] = useState(false);\n\n  // Bettors state (managed centrally to avoid duplicates)\n  const [gameBettors, setGameBettors] = useState([]);\n\n  // Refs to avoid stale closures in socket handlers\n  const gameBettorsRef = useRef([]);\n  const contractWinnerRef = useRef(null);\n  const showWinnerAnnouncementRef = useRef(false);\n  const lastWinnerTimestampRef = useRef(null);\n\n  // Keep refs in sync with state\n  useEffect(() => {\n    gameBettorsRef.current = gameBettors;\n  }, [gameBettors]);\n  useEffect(() => {\n    contractWinnerRef.current = contractWinner;\n  }, [contractWinner]);\n  useEffect(() => {\n    showWinnerAnnouncementRef.current = showWinnerAnnouncement;\n  }, [showWinnerAnnouncement]);\n\n  // Centralized winner announcement manager\n  const showWinnerAnnouncements = useCallback((winnerData, source = 'unknown') => {\n    const winnerTimestamp = winnerData.timestamp;\n\n    // Use coordinator to check if should block\n    if (winnerCoordinator.shouldBlock(winnerTimestamp)) {\n      console.log(`🔄 Winner announcement blocked by coordinator (${source})`);\n      return false;\n    }\n    console.log(`🎉 Showing winner announcements from ${source}:`, winnerData);\n\n    // Set coordination flag via coordinator\n    winnerCoordinator.setActive(true, winnerTimestamp);\n    setIsAnyWinnerDisplayActive(true);\n    lastWinnerTimestampRef.current = winnerTimestamp;\n\n    // Show App.js winner notification\n    setContractWinner(winnerData);\n    setShowWinnerAnnouncement(true);\n    setWaitingForWinner(false);\n\n    // Auto-clear everything after 6 seconds\n    setTimeout(() => {\n      setShowWinnerAnnouncement(false);\n      setContractWinner(null);\n      setPostWinnerLoading(false);\n      setIsAnyWinnerDisplayActive(false);\n      winnerCoordinator.setActive(false);\n    }, 6000);\n    return true;\n  }, []);\n\n  // Telegram integration\n  const {\n    user,\n    hapticFeedback,\n    showAlert,\n    hasRealUserData\n  } = useTelegramWebApp();\n\n  // Smart contract integration\n  const {\n    contractState,\n    userStats,\n    adminInfo,\n    isLoadingContract,\n    isPlacingBet,\n    placeBet,\n    isConnected,\n    address\n  } = useJackpotContract();\n\n  // Use real contract data or fallback to simulated data\n  const jackpotValue = contractState.totalJackpot;\n  const isLive = contractState.isActive;\n  const userWinChance = parseFloat(userStats.winChancePercentage) || 0;\n  const userBetTotal = userStats.betAmount || 0;\n\n  // Use automation timer or fallback to UI timer\n  useEffect(() => {\n    var _contractState$timer;\n    // Always sync with backend timer when it changes\n    if (((_contractState$timer = contractState.timer) === null || _contractState$timer === void 0 ? void 0 : _contractState$timer.timeRemaining) !== undefined) {\n      setTimeRemaining(contractState.timer.timeRemaining);\n    } else {\n      setTimeRemaining(30);\n    }\n  }, [(_contractState$timer2 = contractState.timer) === null || _contractState$timer2 === void 0 ? void 0 : _contractState$timer2.timeRemaining]);\n\n  // Local countdown timer (runs between backend updates)\n  const shouldRunCountdown = isLive && timeRemaining > 0; // Extract complex expression\n\n  useEffect(() => {\n    if (!shouldRunCountdown) return;\n    const countdown = setInterval(() => {\n      setTimeRemaining(prev => {\n        const newTime = Math.max(0, prev - 1);\n\n        // If we reach 0, don't reset - let backend handle the transition\n        if (newTime === 0) {\n          console.log('⏰ Local timer reached 0, waiting for backend...');\n        }\n        return newTime;\n      });\n    }, 1000);\n    return () => clearInterval(countdown);\n  }, [shouldRunCountdown, timeRemaining]); // Use extracted variable and add missing dependency\n\n  // Socket integration for immediate synchronization - SINGLE CONNECTION POINT\n  useEffect(() => {\n    console.log('🔌 App.js: Establishing single socket connection for entire app...');\n    socketService.connect();\n\n    // Listen for timer updates from socket\n    socketService.on('timer', timerData => {\n      console.log('⏰ App: Socket timer update:', timerData);\n\n      // Only update timeRemaining if it's significantly different (>2 seconds) or new round\n      setTimeRemaining(prev => {\n        const timeDiff = Math.abs(prev - timerData.timeRemaining);\n        const isNewRound = timerData.roundNumber !== currentRound;\n\n        // Sync if: new round, big difference (>2s), or timer reset (server > client)\n        if (isNewRound || timeDiff > 2 || timerData.timeRemaining > prev) {\n          console.log('⏰ Syncing timer:', prev, '→', timerData.timeRemaining, isNewRound ? '(new round)' : '(significant change)');\n          return timerData.timeRemaining;\n        }\n\n        // Otherwise keep local countdown running smoothly\n        return prev;\n      });\n      if (timerData.roundNumber) {\n        setCurrentRound(timerData.roundNumber);\n      }\n      // Note: Contract state timer will be updated via fullGameUpdate/contractStateUpdate events\n    });\n\n    // Listen for new round events\n    socketService.on('newRound', roundData => {\n      console.log('🎰 App: New round detected via socket:', roundData);\n      setTimeRemaining(roundData.timeRemaining);\n      setCurrentRound(roundData.roundNumber);\n      setIsAnyWinnerDisplayActive(false);\n      winnerCoordinator.reset();\n      lastWinnerTimestampRef.current = null; // Clear duplicate protection for new round\n    });\n\n    // Listen for game state updates\n    socketService.on('gameState', gameState => {\n      console.log('🎮 App: Game state update:', gameState);\n      if (gameState.timeRemaining !== undefined) {\n        setTimeRemaining(gameState.timeRemaining);\n      }\n      if (gameState.currentRound) {\n        // Extract roundNumber if currentRound is an object, otherwise use the value directly\n        const roundNumber = typeof gameState.currentRound === 'object' && gameState.currentRound.roundNumber ? gameState.currentRound.roundNumber : gameState.currentRound;\n        setCurrentRound(roundNumber);\n      }\n\n      // Handle winner-related states\n      if (gameState.isWaitingForWinner !== undefined) {\n        setWaitingForWinner(gameState.isWaitingForWinner);\n      }\n\n      // Update bettors data centrally (avoids duplicate processing)\n      if (gameState.bettors && Array.isArray(gameState.bettors)) {\n        // Only log if bettors count changed to reduce spam\n        if (gameState.bettors.length !== gameBettorsRef.current.length) {\n          console.log('🎮 App: Updating bettors from gameState:', gameState.bettors.length, 'bettors');\n        }\n        setGameBettors(gameState.bettors);\n      }\n\n      // Check for winner announcement in game state (prevent duplicates with stronger protection)\n      if (gameState.winnerAnnouncement) {\n        showWinnerAnnouncements(gameState.winnerAnnouncement, 'gameState');\n      }\n    });\n\n    // Listen for comprehensive game data updates\n    socketService.on('fullGameUpdate', gameData => {\n      console.log('🎮 App: Full game update:', gameData);\n      // These updates will trigger re-renders via useJackpotContract hook\n      // The hook will detect the changes and update accordingly\n    });\n\n    // Listen for bettors updates\n    socketService.on('bettorsUpdate', data => {\n      console.log('💰 App: Bettors update:', data);\n      // Force a refresh of contract state to sync with socket data\n      // This ensures jackpot value and user stats stay in sync\n    });\n\n    // Listen for waiting for winner events\n    socketService.on('waitingForWinner', isWaiting => {\n      console.log('🎯 App: Waiting for winner state changed:', isWaiting);\n      setWaitingForWinner(isWaiting);\n    });\n\n    // Listen for winner announcements (primary)\n    socketService.on('winner', winnerData => {\n      console.log('🏆 App: Winner announced:', winnerData);\n      setWaitingForWinner(false);\n      setPostWinnerLoading(true);\n\n      // Use centralized manager\n      showWinnerAnnouncements(winnerData, 'winner event');\n    });\n\n    // Listen for direct winner announcements (fallback/reliable delivery)\n    socketService.on('winnerAnnouncement', winnerData => {\n      console.log('🎯 App: Direct winner announcement:', winnerData);\n      setWaitingForWinner(false);\n\n      // Use centralized manager\n      showWinnerAnnouncements(winnerData, 'direct announcement');\n    });\n\n    // Listen for round reset events (when timer is reset due to no bettors)\n    socketService.on('roundReset', resetData => {\n      console.log('🔄 App: Round reset detected:', resetData);\n\n      // Reset timer to the new duration\n      setTimeRemaining(resetData.timeRemaining);\n      setCurrentRound(resetData.roundNumber);\n\n      // Clear any winner states since this is a fresh timer\n      setWaitingForWinner(false);\n      setContractWinner(null);\n      setPostWinnerLoading(false);\n      setIsAnyWinnerDisplayActive(false);\n      winnerCoordinator.reset();\n\n      // Clear bettors list since round was reset\n      setGameBettors([]);\n    });\n    return () => {\n      console.log('🔌 App.js: Cleaning up socket listeners...');\n      socketService.off('timer');\n      socketService.off('newRound');\n      socketService.off('roundReset');\n      socketService.off('gameState');\n      socketService.off('fullGameUpdate');\n      socketService.off('bettorsUpdate');\n      socketService.off('waitingForWinner');\n      socketService.off('winner');\n      socketService.off('winnerAnnouncement');\n      // Disconnect when app unmounts to prevent memory leaks\n      socketService.disconnect();\n    };\n  }, [currentRound, showWinnerAnnouncements]); // Added missing dependencies\n\n  const handleBetChange = e => {\n    const value = parseFloat(e.target.value) || 0;\n    setBetAmount(Math.max(0, Math.min(value, 10))); // Min 0, Max 10\n  };\n  const handleTabChange = tab => {\n    hapticFeedback('light');\n    setActiveTab(tab);\n  };\n\n  // Enhanced bet placement with real smart contract\n  const handlePlaceBet = async () => {\n    console.log(`🔥 BET BUTTON CLICKED - Amount: ${betAmount} TON`);\n    if (betAmount <= 0) {\n      showAlert('Please enter a valid bet amount');\n      return;\n    }\n    if (!isConnected) {\n      showAlert('Please connect your wallet first');\n      return;\n    }\n    if (!contractState.isActive) {\n      showAlert('Jackpot is not currently active\\n\\n🤖 Automated system will start a new round soon...');\n      return;\n    }\n    try {\n      console.log(`🚀 Starting bet placement process...`);\n      hapticFeedback('medium');\n\n      // This will call the contract with opcode 0x03\n      const result = await placeBet(betAmount);\n      if (result.success) {\n        hapticFeedback('success');\n        showAlert(`✅ Bet placed successfully!\\n${betAmount} TON in round #${currentRound}\\nTransaction: ${result.txHash.slice(0, 8)}...`);\n        console.log('🎉 Bet placement completed:', result);\n      }\n    } catch (error) {\n      hapticFeedback('error');\n      showAlert(`❌ Bet failed: ${error.message}`);\n      console.error('💥 Bet error:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"logo-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"logo-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"logo-text\",\n              children: \"SLOTPOT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"nav-tabs\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"nav-tab active\",\n              children: [/*#__PURE__*/_jsxDEV(Trophy, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Jackpot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"nav-tab\",\n              children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Coinflip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"nav-tab\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Affiliates\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-info\",\n            children: [user && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"user-greeting\",\n              children: [hasRealUserData ? '👋' : '🤖', \" \", user.displayName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this), isConnected && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"wallet-info\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"wallet-address\",\n                children: address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(WalletConnection, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mobile-tab-nav\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `mobile-tab ${activeTab === 'jackpot' ? 'active' : ''}`,\n          onClick: () => handleTabChange('jackpot'),\n          children: [/*#__PURE__*/_jsxDEV(Trophy, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 13\n          }, this), \"Jackpot\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `mobile-tab ${activeTab === 'chat' ? 'active' : ''}`,\n          onClick: () => handleTabChange('chat'),\n          children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), \"Chat\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mobile-content-section ${activeTab === 'jackpot' ? 'active' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-content\",\n          children: /*#__PURE__*/_jsxDEV(GameArea, {\n            jackpotValue: jackpotValue,\n            currentRound: currentRound,\n            timeRemaining: timeRemaining,\n            isLive: isLive,\n            showWinnerAnnouncement: showWinnerAnnouncement,\n            betAmount: betAmount,\n            onBetChange: handleBetChange,\n            onPlaceBet: handlePlaceBet,\n            isConnected: isConnected,\n            isLoading: isPlacingBet,\n            userWinChance: userWinChance,\n            userBetTotal: userBetTotal,\n            contractState: {\n              ...contractState,\n              userAddress: address // Add user address for bet tracking\n            },\n            isLoadingContract: isLoadingContract,\n            adminInfo: adminInfo,\n            currentBettors: gameBettors\n            // Winner state props (moved from GameArea internal state)\n            ,\n            waitingForWinner: waitingForWinner,\n            contractWinner: contractWinner,\n            postWinnerLoading: postWinnerLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mobile-content-section ${activeTab === 'chat' ? 'active' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobile-chat-section\",\n          children: /*#__PURE__*/_jsxDEV(MobileChat, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-left\",\n        children: /*#__PURE__*/_jsxDEV(Chat, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mobile-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mobile-footer-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobile-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mobile-stat-value\",\n              children: contractState.isActive !== false ? contractState.betCount || 0 : 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mobile-stat-label\",\n              children: \"Players\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mobile-stat-value\",\n              children: [\"#\", currentRound]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mobile-stat-label\",\n              children: \"Round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this), isConnected && contractState.isActive !== false && userBetTotal > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mobile-stat-value\",\n              children: [userWinChance.toFixed(1), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mobile-stat-label\",\n              children: \"Win Chance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mobile-games-btn\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this), \"Games\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 7\n    }, this), isLoadingContract && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-overlay\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: \"\\uD83D\\uDD04\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Loading contract data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(WinnerBroadcast, {\n      socketService: socketService\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 332,\n    columnNumber: 5\n  }, this);\n}\n\n// Main App component with TON Connect Provider\n_s(AppContent, \"LEOAiLsULUtpppaW4Y4wdZKqbXU=\", false, function () {\n  return [useTelegramWebApp, useJackpotContract];\n});\n_c = AppContent;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(TonConnectUIProvider, {\n    manifestUrl: manifestUrl,\n    uiPreferences: uiOptions.uiPreferences,\n    language: uiOptions.language,\n    restoreConnection: uiOptions.restoreConnection,\n    actionsConfiguration: uiOptions.actionsConfiguration,\n    children: /*#__PURE__*/_jsxDEV(AppContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 483,\n    columnNumber: 5\n  }, this);\n}\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"AppContent\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","TonConnectUIProvider","Chat","GameArea","MobileChat","WalletConnection","WinnerBroadcast","useTelegramWebApp","useJackpotContract","socketService","winnerCoordinator","uiOptions","MessageCircle","Trophy","Users","DollarSign","jsxDEV","_jsxDEV","manifestUrl","AppContent","_s","_contractState$timer2","currentRound","setCurrentRound","timeRemaining","setTimeRemaining","activeTab","setActiveTab","betAmount","setBetAmount","showWinnerAnnouncement","setShowWinnerAnnouncement","waitingForWinner","setWaitingForWinner","contractWinner","setContractWinner","postWinnerLoading","setPostWinnerLoading","setIsAnyWinnerDisplayActive","gameBettors","setGameBettors","gameBettorsRef","contractWinnerRef","showWinnerAnnouncementRef","lastWinnerTimestampRef","current","showWinnerAnnouncements","winnerData","source","winnerTimestamp","timestamp","shouldBlock","console","log","setActive","setTimeout","user","hapticFeedback","showAlert","hasRealUserData","contractState","userStats","adminInfo","isLoadingContract","isPlacingBet","placeBet","isConnected","address","jackpotValue","totalJackpot","isLive","isActive","userWinChance","parseFloat","winChancePercentage","userBetTotal","_contractState$timer","timer","undefined","shouldRunCountdown","countdown","setInterval","prev","newTime","Math","max","clearInterval","connect","on","timerData","timeDiff","abs","isNewRound","roundNumber","roundData","reset","gameState","isWaitingForWinner","bettors","Array","isArray","length","winnerAnnouncement","gameData","data","isWaiting","resetData","off","disconnect","handleBetChange","e","value","target","min","handleTabChange","tab","handlePlaceBet","result","success","txHash","slice","error","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","displayName","onClick","onBetChange","onPlaceBet","isLoading","userAddress","currentBettors","betCount","toFixed","_c","App","uiPreferences","language","restoreConnection","actionsConfiguration","_c2","$RefreshReg$"],"sources":["C:/Users/adams/OneDrive/Desktop/Work/slotpot/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { TonConnectUIProvider } from '@tonconnect/ui-react';\nimport Chat from './components/Chat';\nimport GameArea from './components/GameArea';\nimport MobileChat from './components/MobileChat';\nimport WalletConnection from './components/WalletConnection';\nimport WinnerBroadcast from './components/WinnerBroadcast';\nimport useTelegramWebApp from './hooks/useTelegramWebApp';\nimport useJackpotContract from './hooks/useJackpotContract';\nimport socketService from './services/socketService';\nimport winnerCoordinator from './services/winnerCoordinator';\nimport { uiOptions } from './config/tonconnect';\nimport { MessageCircle, Trophy, Users, DollarSign } from 'lucide-react';\nimport './App.css';\nimport './components/Header.css';\n\n// TON Connect manifest URL - use remote manifest to avoid 500 errors\nconst manifestUrl = \"https://raw.githubusercontent.com/Vodka2134156/kzsks/main/manifest.json\";\n\nfunction AppContent() {\n  // Local UI state\n  const [currentRound, setCurrentRound] = useState(53408);\n  const [timeRemaining, setTimeRemaining] = useState(30);\n  const [activeTab, setActiveTab] = useState('jackpot');\n  const [betAmount, setBetAmount] = useState(0.11);\n  const [showWinnerAnnouncement, setShowWinnerAnnouncement] = useState(false);\n  \n  // Winner state management (moved from GameArea.js)\n  const [waitingForWinner, setWaitingForWinner] = useState(false);\n  const [contractWinner, setContractWinner] = useState(null);\n  const [postWinnerLoading, setPostWinnerLoading] = useState(false);\n  const [, setIsAnyWinnerDisplayActive] = useState(false);\n  \n  // Bettors state (managed centrally to avoid duplicates)\n  const [gameBettors, setGameBettors] = useState([]);\n\n  // Refs to avoid stale closures in socket handlers\n  const gameBettorsRef = useRef([]);\n  const contractWinnerRef = useRef(null);\n  const showWinnerAnnouncementRef = useRef(false);\n  const lastWinnerTimestampRef = useRef(null);\n  \n  // Keep refs in sync with state\n  useEffect(() => { gameBettorsRef.current = gameBettors; }, [gameBettors]);\n  useEffect(() => { contractWinnerRef.current = contractWinner; }, [contractWinner]);\n  useEffect(() => { showWinnerAnnouncementRef.current = showWinnerAnnouncement; }, [showWinnerAnnouncement]);\n\n  // Centralized winner announcement manager\n  const showWinnerAnnouncements = useCallback((winnerData, source = 'unknown') => {\n    const winnerTimestamp = winnerData.timestamp;\n    \n    // Use coordinator to check if should block\n    if (winnerCoordinator.shouldBlock(winnerTimestamp)) {\n      console.log(`🔄 Winner announcement blocked by coordinator (${source})`);\n      return false;\n    }\n    \n    console.log(`🎉 Showing winner announcements from ${source}:`, winnerData);\n    \n    // Set coordination flag via coordinator\n    winnerCoordinator.setActive(true, winnerTimestamp);\n    setIsAnyWinnerDisplayActive(true);\n    lastWinnerTimestampRef.current = winnerTimestamp;\n    \n    // Show App.js winner notification\n    setContractWinner(winnerData);\n    setShowWinnerAnnouncement(true);\n    setWaitingForWinner(false);\n    \n    // Auto-clear everything after 6 seconds\n    setTimeout(() => {\n      setShowWinnerAnnouncement(false);\n      setContractWinner(null);\n      setPostWinnerLoading(false);\n      setIsAnyWinnerDisplayActive(false);\n      winnerCoordinator.setActive(false);\n    }, 6000);\n    \n    return true;\n  }, []);\n\n  // Telegram integration\n  const { user, hapticFeedback, showAlert, hasRealUserData } = useTelegramWebApp();\n\n  // Smart contract integration\n  const {\n    contractState,\n    userStats,\n    adminInfo,\n    isLoadingContract,\n    isPlacingBet,\n    placeBet,\n    isConnected,\n    address,\n  } = useJackpotContract();\n\n  // Use real contract data or fallback to simulated data\n  const jackpotValue = contractState.totalJackpot;\n  const isLive = contractState.isActive;\n  const userWinChance = parseFloat(userStats.winChancePercentage) || 0;\n  const userBetTotal = userStats.betAmount || 0;\n\n  // Use automation timer or fallback to UI timer\n  useEffect(() => {\n    // Always sync with backend timer when it changes\n    if (contractState.timer?.timeRemaining !== undefined) {\n      setTimeRemaining(contractState.timer.timeRemaining);\n    } else {\n      setTimeRemaining(30);\n    }\n  }, [contractState.timer?.timeRemaining]);\n\n  // Local countdown timer (runs between backend updates)\n  const shouldRunCountdown = isLive && timeRemaining > 0; // Extract complex expression\n  \n  useEffect(() => {\n    if (!shouldRunCountdown) return;\n\n    const countdown = setInterval(() => {\n      setTimeRemaining(prev => {\n        const newTime = Math.max(0, prev - 1);\n        \n        // If we reach 0, don't reset - let backend handle the transition\n        if (newTime === 0) {\n          console.log('⏰ Local timer reached 0, waiting for backend...');\n        }\n        \n        return newTime;\n      });\n    }, 1000);\n\n    return () => clearInterval(countdown);\n  }, [shouldRunCountdown, timeRemaining]); // Use extracted variable and add missing dependency\n\n  // Socket integration for immediate synchronization - SINGLE CONNECTION POINT\n  useEffect(() => {\n    console.log('🔌 App.js: Establishing single socket connection for entire app...');\n    socketService.connect();\n\n    // Listen for timer updates from socket\n    socketService.on('timer', (timerData) => {\n      console.log('⏰ App: Socket timer update:', timerData);\n      \n      // Only update timeRemaining if it's significantly different (>2 seconds) or new round\n      setTimeRemaining(prev => {\n        const timeDiff = Math.abs(prev - timerData.timeRemaining);\n        const isNewRound = timerData.roundNumber !== currentRound;\n        \n        // Sync if: new round, big difference (>2s), or timer reset (server > client)\n        if (isNewRound || timeDiff > 2 || timerData.timeRemaining > prev) {\n          console.log('⏰ Syncing timer:', prev, '→', timerData.timeRemaining, isNewRound ? '(new round)' : '(significant change)');\n          return timerData.timeRemaining;\n        }\n        \n        // Otherwise keep local countdown running smoothly\n        return prev;\n      });\n      \n      if (timerData.roundNumber) {\n        setCurrentRound(timerData.roundNumber);\n      }\n      // Note: Contract state timer will be updated via fullGameUpdate/contractStateUpdate events\n    });\n\n    // Listen for new round events\n    socketService.on('newRound', (roundData) => {\n      console.log('🎰 App: New round detected via socket:', roundData);\n      setTimeRemaining(roundData.timeRemaining);\n      setCurrentRound(roundData.roundNumber);\n      setIsAnyWinnerDisplayActive(false);\n      winnerCoordinator.reset();\n      lastWinnerTimestampRef.current = null; // Clear duplicate protection for new round\n    });\n\n    // Listen for game state updates\n    socketService.on('gameState', (gameState) => {\n      console.log('🎮 App: Game state update:', gameState);\n      if (gameState.timeRemaining !== undefined) {\n        setTimeRemaining(gameState.timeRemaining);\n      }\n      if (gameState.currentRound) {\n        // Extract roundNumber if currentRound is an object, otherwise use the value directly\n        const roundNumber = typeof gameState.currentRound === 'object' && gameState.currentRound.roundNumber \n          ? gameState.currentRound.roundNumber \n          : gameState.currentRound;\n        setCurrentRound(roundNumber);\n      }\n      \n      // Handle winner-related states\n      if (gameState.isWaitingForWinner !== undefined) {\n        setWaitingForWinner(gameState.isWaitingForWinner);\n      }\n      \n      // Update bettors data centrally (avoids duplicate processing)\n      if (gameState.bettors && Array.isArray(gameState.bettors)) {\n        // Only log if bettors count changed to reduce spam\n        if (gameState.bettors.length !== gameBettorsRef.current.length) {\n          console.log('🎮 App: Updating bettors from gameState:', gameState.bettors.length, 'bettors');\n        }\n        setGameBettors(gameState.bettors);\n      }\n      \n      // Check for winner announcement in game state (prevent duplicates with stronger protection)\n      if (gameState.winnerAnnouncement) {\n        showWinnerAnnouncements(gameState.winnerAnnouncement, 'gameState');\n      }\n    });\n\n    // Listen for comprehensive game data updates\n    socketService.on('fullGameUpdate', (gameData) => {\n      console.log('🎮 App: Full game update:', gameData);\n      // These updates will trigger re-renders via useJackpotContract hook\n      // The hook will detect the changes and update accordingly\n    });\n\n    // Listen for bettors updates\n    socketService.on('bettorsUpdate', (data) => {\n      console.log('💰 App: Bettors update:', data);\n      // Force a refresh of contract state to sync with socket data\n      // This ensures jackpot value and user stats stay in sync\n    });\n\n    // Listen for waiting for winner events\n    socketService.on('waitingForWinner', (isWaiting) => {\n      console.log('🎯 App: Waiting for winner state changed:', isWaiting);\n      setWaitingForWinner(isWaiting);\n    });\n\n    // Listen for winner announcements (primary)\n    socketService.on('winner', (winnerData) => {\n      console.log('🏆 App: Winner announced:', winnerData);\n      setWaitingForWinner(false);\n      setPostWinnerLoading(true);\n      \n      // Use centralized manager\n      showWinnerAnnouncements(winnerData, 'winner event');\n    });\n\n    // Listen for direct winner announcements (fallback/reliable delivery)\n    socketService.on('winnerAnnouncement', (winnerData) => {\n      console.log('🎯 App: Direct winner announcement:', winnerData);\n      setWaitingForWinner(false);\n      \n      // Use centralized manager\n      showWinnerAnnouncements(winnerData, 'direct announcement');\n    });\n\n    // Listen for round reset events (when timer is reset due to no bettors)\n    socketService.on('roundReset', (resetData) => {\n      console.log('🔄 App: Round reset detected:', resetData);\n      \n      // Reset timer to the new duration\n      setTimeRemaining(resetData.timeRemaining);\n      setCurrentRound(resetData.roundNumber);\n      \n      // Clear any winner states since this is a fresh timer\n      setWaitingForWinner(false);\n      setContractWinner(null);\n      setPostWinnerLoading(false);\n      setIsAnyWinnerDisplayActive(false);\n      winnerCoordinator.reset();\n      \n      // Clear bettors list since round was reset\n      setGameBettors([]);\n    });\n\n    return () => {\n      console.log('🔌 App.js: Cleaning up socket listeners...');\n      socketService.off('timer');\n      socketService.off('newRound');\n      socketService.off('roundReset');\n      socketService.off('gameState');\n      socketService.off('fullGameUpdate');\n      socketService.off('bettorsUpdate');\n      socketService.off('waitingForWinner');\n      socketService.off('winner');\n      socketService.off('winnerAnnouncement');\n      // Disconnect when app unmounts to prevent memory leaks\n      socketService.disconnect();\n    };\n  }, [currentRound, showWinnerAnnouncements]); // Added missing dependencies\n\n  const handleBetChange = (e) => {\n    const value = parseFloat(e.target.value) || 0;\n    setBetAmount(Math.max(0, Math.min(value, 10))); // Min 0, Max 10\n  };\n\n  const handleTabChange = (tab) => {\n    hapticFeedback('light');\n    setActiveTab(tab);\n  };\n\n  // Enhanced bet placement with real smart contract\n  const handlePlaceBet = async () => {\n    console.log(`🔥 BET BUTTON CLICKED - Amount: ${betAmount} TON`);\n    \n    if (betAmount <= 0) {\n      showAlert('Please enter a valid bet amount');\n      return;\n    }\n\n    if (!isConnected) {\n      showAlert('Please connect your wallet first');\n      return;\n    }\n\n    if (!contractState.isActive) {\n      showAlert('Jackpot is not currently active\\n\\n🤖 Automated system will start a new round soon...');\n      return;\n    }\n\n    try {\n      console.log(`🚀 Starting bet placement process...`);\n      hapticFeedback('medium');\n      \n      // This will call the contract with opcode 0x03\n      const result = await placeBet(betAmount);\n      \n      if (result.success) {\n        hapticFeedback('success');\n        showAlert(`✅ Bet placed successfully!\\n${betAmount} TON in round #${currentRound}\\nTransaction: ${result.txHash.slice(0, 8)}...`);\n        console.log('🎉 Bet placement completed:', result);\n      }\n    } catch (error) {\n      hapticFeedback('error');\n      showAlert(`❌ Bet failed: ${error.message}`);\n      console.error('💥 Bet error:', error);\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      {/* Header */}\n      <header className=\"header\">\n        <div className=\"header-container\">\n          <div className=\"header-left\">\n            <div className=\"logo\">\n              <div className=\"logo-icon\">\n                <div className=\"logo-circle\"></div>\n              </div>\n              <span className=\"logo-text\">SLOTPOT</span>\n            </div>\n            \n            <nav className=\"nav-tabs\">\n              <div className=\"nav-tab active\">\n                <Trophy size={20} />\n                <span>Jackpot</span>\n              </div>\n              <div className=\"nav-tab\">\n                <DollarSign size={20} />\n                <span>Coinflip</span>\n              </div>\n              <div className=\"nav-tab\">\n                <Users size={20} />\n                <span>Affiliates</span>\n              </div>\n            </nav>\n          </div>\n          \n          <div className=\"header-right\">\n            <div className=\"user-info\">\n              {user && (\n                <span className=\"user-greeting\">\n                  {hasRealUserData ? '👋' : '🤖'} {user.displayName}\n                </span>\n              )}\n              {isConnected && (\n                <div className=\"wallet-info\">\n                  <span className=\"wallet-address\">{address}</span>\n                </div>\n              )}\n            </div>\n            <WalletConnection />\n          </div>\n        </div>\n      </header>\n      \n      <div className=\"app-container\">\n        {/* Mobile Tab Navigation */}\n        <div className=\"mobile-tab-nav\">\n          <button \n            className={`mobile-tab ${activeTab === 'jackpot' ? 'active' : ''}`}\n            onClick={() => handleTabChange('jackpot')}\n          >\n            <Trophy size={16} />\n            Jackpot\n          </button>\n          <button \n            className={`mobile-tab ${activeTab === 'chat' ? 'active' : ''}`}\n            onClick={() => handleTabChange('chat')}\n          >\n            <MessageCircle size={16} />\n            Chat\n          </button>\n        </div>\n\n        {/* Content Sections */}\n        <div className={`mobile-content-section ${activeTab === 'jackpot' ? 'active' : ''}`}>\n          <div className=\"main-content\">\n            <GameArea \n              jackpotValue={jackpotValue}\n              currentRound={currentRound}\n              timeRemaining={timeRemaining}\n              isLive={isLive}\n              showWinnerAnnouncement={showWinnerAnnouncement}\n              betAmount={betAmount}\n              onBetChange={handleBetChange}\n              onPlaceBet={handlePlaceBet}\n              isConnected={isConnected}\n              isLoading={isPlacingBet}\n              userWinChance={userWinChance}\n              userBetTotal={userBetTotal}\n              contractState={{\n                ...contractState,\n                userAddress: address // Add user address for bet tracking\n              }}\n              isLoadingContract={isLoadingContract}\n              adminInfo={adminInfo}\n              currentBettors={gameBettors}\n              // Winner state props (moved from GameArea internal state)\n              waitingForWinner={waitingForWinner}\n              contractWinner={contractWinner}\n              postWinnerLoading={postWinnerLoading}\n            />\n          </div>\n        </div>\n\n        <div className={`mobile-content-section ${activeTab === 'chat' ? 'active' : ''}`}>\n          <div className=\"mobile-chat-section\">\n            <MobileChat />\n          </div>\n        </div>\n\n        {/* Hidden desktop sidebars */}\n        <div className=\"sidebar-left\">\n          <Chat />\n        </div>\n      </div>\n\n      {/* Mobile Footer */}\n      <div className=\"mobile-footer\">\n        <div className=\"mobile-footer-content\">\n          <div className=\"mobile-stats\">\n            <div className=\"mobile-stat\">\n              <div className=\"mobile-stat-value\">{contractState.isActive !== false ? (contractState.betCount || 0) : 0}</div>\n              <div className=\"mobile-stat-label\">Players</div>\n            </div>\n            <div className=\"mobile-stat\">\n              <div className=\"mobile-stat-value\">#{currentRound}</div>\n              <div className=\"mobile-stat-label\">Round</div>\n            </div>\n            {isConnected && contractState.isActive !== false && userBetTotal > 0 && (\n              <div className=\"mobile-stat\">\n                <div className=\"mobile-stat-value\">{userWinChance.toFixed(1)}%</div>\n                <div className=\"mobile-stat-label\">Win Chance</div>\n              </div>\n            )}\n          </div>\n          <button className=\"mobile-games-btn\">\n            <Users size={14} />\n            Games\n          </button>\n        </div>\n      </div>\n\n      {/* Contract Status Indicator */}\n      {isLoadingContract && (\n        <div className=\"loading-overlay\">\n          <div className=\"loading-spinner\">🔄</div>\n          <span>Loading contract data...</span>\n        </div>\n      )}\n\n      {/* Winner Broadcast Component */}\n      <WinnerBroadcast socketService={socketService} />\n    </div>\n  );\n}\n\n// Main App component with TON Connect Provider\nfunction App() {\n  return (\n    <TonConnectUIProvider \n      manifestUrl={manifestUrl}\n      uiPreferences={uiOptions.uiPreferences}\n      language={uiOptions.language}\n      restoreConnection={uiOptions.restoreConnection}\n      actionsConfiguration={uiOptions.actionsConfiguration}\n    >\n      <AppContent />\n    </TonConnectUIProvider>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}