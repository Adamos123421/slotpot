{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright (c) Whales Corp.\n * All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createWalletTransferV4 = exports.createWalletTransferV3 = exports.createWalletTransferV2 = exports.createWalletTransferV1 = void 0;\nconst core_1 = require(\"@ton/core\");\nconst crypto_1 = require(\"@ton/crypto\");\nfunction createWalletTransferV1(args) {\n  // Create message\n  let signingMessage = (0, core_1.beginCell)().storeUint(args.seqno, 32);\n  if (args.message) {\n    signingMessage.storeUint(args.sendMode, 8);\n    signingMessage.storeRef((0, core_1.beginCell)().store((0, core_1.storeMessageRelaxed)(args.message)));\n  }\n  // Sign message\n  let signature = (0, crypto_1.sign)(signingMessage.endCell().hash(), args.secretKey);\n  // Body\n  const body = (0, core_1.beginCell)().storeBuffer(signature).storeBuilder(signingMessage).endCell();\n  return body;\n}\nexports.createWalletTransferV1 = createWalletTransferV1;\nfunction createWalletTransferV2(args) {\n  // Check number of messages\n  if (args.messages.length > 4) {\n    throw Error(\"Maximum number of messages in a single transfer is 4\");\n  }\n  // Create message\n  let signingMessage = (0, core_1.beginCell)().storeUint(args.seqno, 32);\n  if (args.seqno === 0) {\n    for (let i = 0; i < 32; i++) {\n      signingMessage.storeBit(1);\n    }\n  } else {\n    signingMessage.storeUint(args.timeout || Math.floor(Date.now() / 1e3) + 60, 32); // Default timeout: 60 seconds\n  }\n  for (let m of args.messages) {\n    signingMessage.storeUint(args.sendMode, 8);\n    signingMessage.storeRef((0, core_1.beginCell)().store((0, core_1.storeMessageRelaxed)(m)));\n  }\n  // Sign message\n  let signature = (0, crypto_1.sign)(signingMessage.endCell().hash(), args.secretKey);\n  // Body\n  const body = (0, core_1.beginCell)().storeBuffer(signature).storeBuilder(signingMessage).endCell();\n  return body;\n}\nexports.createWalletTransferV2 = createWalletTransferV2;\nfunction createWalletTransferV3(args) {\n  // Check number of messages\n  if (args.messages.length > 4) {\n    throw Error(\"Maximum number of messages in a single transfer is 4\");\n  }\n  // Create message to sign\n  let signingMessage = (0, core_1.beginCell)().storeUint(args.walletId, 32);\n  if (args.seqno === 0) {\n    for (let i = 0; i < 32; i++) {\n      signingMessage.storeBit(1);\n    }\n  } else {\n    signingMessage.storeUint(args.timeout || Math.floor(Date.now() / 1e3) + 60, 32); // Default timeout: 60 seconds\n  }\n  signingMessage.storeUint(args.seqno, 32);\n  for (let m of args.messages) {\n    signingMessage.storeUint(args.sendMode, 8);\n    signingMessage.storeRef((0, core_1.beginCell)().store((0, core_1.storeMessageRelaxed)(m)));\n  }\n  // Sign message\n  let signature = (0, crypto_1.sign)(signingMessage.endCell().hash(), args.secretKey);\n  // Body\n  const body = (0, core_1.beginCell)().storeBuffer(signature).storeBuilder(signingMessage).endCell();\n  return body;\n}\nexports.createWalletTransferV3 = createWalletTransferV3;\nfunction createWalletTransferV4(args) {\n  // Check number of messages\n  if (args.messages.length > 4) {\n    throw Error(\"Maximum number of messages in a single transfer is 4\");\n  }\n  let signingMessage = (0, core_1.beginCell)().storeUint(args.walletId, 32);\n  if (args.seqno === 0) {\n    for (let i = 0; i < 32; i++) {\n      signingMessage.storeBit(1);\n    }\n  } else {\n    signingMessage.storeUint(args.timeout || Math.floor(Date.now() / 1e3) + 60, 32); // Default timeout: 60 seconds\n  }\n  signingMessage.storeUint(args.seqno, 32);\n  signingMessage.storeUint(0, 8); // Simple order\n  for (let m of args.messages) {\n    signingMessage.storeUint(args.sendMode, 8);\n    signingMessage.storeRef((0, core_1.beginCell)().store((0, core_1.storeMessageRelaxed)(m)));\n  }\n  // Sign message\n  let signature = (0, crypto_1.sign)(signingMessage.endCell().hash(), args.secretKey);\n  // Body\n  const body = (0, core_1.beginCell)().storeBuffer(signature).storeBuilder(signingMessage).endCell();\n  return body;\n}\nexports.createWalletTransferV4 = createWalletTransferV4;","map":{"version":3,"names":["Object","defineProperty","exports","value","createWalletTransferV4","createWalletTransferV3","createWalletTransferV2","createWalletTransferV1","core_1","require","crypto_1","args","signingMessage","beginCell","storeUint","seqno","message","sendMode","storeRef","store","storeMessageRelaxed","signature","sign","endCell","hash","secretKey","body","storeBuffer","storeBuilder","messages","length","Error","i","storeBit","timeout","Math","floor","Date","now","m","walletId"],"sources":["C:/Users/adams/OneDrive/Desktop/Work/slotpot/node_modules/@ton/ton/dist/wallets/signing/createWalletTransfer.js"],"sourcesContent":["\"use strict\";\n/**\n * Copyright (c) Whales Corp.\n * All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createWalletTransferV4 = exports.createWalletTransferV3 = exports.createWalletTransferV2 = exports.createWalletTransferV1 = void 0;\nconst core_1 = require(\"@ton/core\");\nconst crypto_1 = require(\"@ton/crypto\");\nfunction createWalletTransferV1(args) {\n    // Create message\n    let signingMessage = (0, core_1.beginCell)()\n        .storeUint(args.seqno, 32);\n    if (args.message) {\n        signingMessage.storeUint(args.sendMode, 8);\n        signingMessage.storeRef((0, core_1.beginCell)().store((0, core_1.storeMessageRelaxed)(args.message)));\n    }\n    // Sign message\n    let signature = (0, crypto_1.sign)(signingMessage.endCell().hash(), args.secretKey);\n    // Body\n    const body = (0, core_1.beginCell)()\n        .storeBuffer(signature)\n        .storeBuilder(signingMessage)\n        .endCell();\n    return body;\n}\nexports.createWalletTransferV1 = createWalletTransferV1;\nfunction createWalletTransferV2(args) {\n    // Check number of messages\n    if (args.messages.length > 4) {\n        throw Error(\"Maximum number of messages in a single transfer is 4\");\n    }\n    // Create message\n    let signingMessage = (0, core_1.beginCell)()\n        .storeUint(args.seqno, 32);\n    if (args.seqno === 0) {\n        for (let i = 0; i < 32; i++) {\n            signingMessage.storeBit(1);\n        }\n    }\n    else {\n        signingMessage.storeUint(args.timeout || Math.floor(Date.now() / 1e3) + 60, 32); // Default timeout: 60 seconds\n    }\n    for (let m of args.messages) {\n        signingMessage.storeUint(args.sendMode, 8);\n        signingMessage.storeRef((0, core_1.beginCell)().store((0, core_1.storeMessageRelaxed)(m)));\n    }\n    // Sign message\n    let signature = (0, crypto_1.sign)(signingMessage.endCell().hash(), args.secretKey);\n    // Body\n    const body = (0, core_1.beginCell)()\n        .storeBuffer(signature)\n        .storeBuilder(signingMessage)\n        .endCell();\n    return body;\n}\nexports.createWalletTransferV2 = createWalletTransferV2;\nfunction createWalletTransferV3(args) {\n    // Check number of messages\n    if (args.messages.length > 4) {\n        throw Error(\"Maximum number of messages in a single transfer is 4\");\n    }\n    // Create message to sign\n    let signingMessage = (0, core_1.beginCell)()\n        .storeUint(args.walletId, 32);\n    if (args.seqno === 0) {\n        for (let i = 0; i < 32; i++) {\n            signingMessage.storeBit(1);\n        }\n    }\n    else {\n        signingMessage.storeUint(args.timeout || Math.floor(Date.now() / 1e3) + 60, 32); // Default timeout: 60 seconds\n    }\n    signingMessage.storeUint(args.seqno, 32);\n    for (let m of args.messages) {\n        signingMessage.storeUint(args.sendMode, 8);\n        signingMessage.storeRef((0, core_1.beginCell)().store((0, core_1.storeMessageRelaxed)(m)));\n    }\n    // Sign message\n    let signature = (0, crypto_1.sign)(signingMessage.endCell().hash(), args.secretKey);\n    // Body\n    const body = (0, core_1.beginCell)()\n        .storeBuffer(signature)\n        .storeBuilder(signingMessage)\n        .endCell();\n    return body;\n}\nexports.createWalletTransferV3 = createWalletTransferV3;\nfunction createWalletTransferV4(args) {\n    // Check number of messages\n    if (args.messages.length > 4) {\n        throw Error(\"Maximum number of messages in a single transfer is 4\");\n    }\n    let signingMessage = (0, core_1.beginCell)()\n        .storeUint(args.walletId, 32);\n    if (args.seqno === 0) {\n        for (let i = 0; i < 32; i++) {\n            signingMessage.storeBit(1);\n        }\n    }\n    else {\n        signingMessage.storeUint(args.timeout || Math.floor(Date.now() / 1e3) + 60, 32); // Default timeout: 60 seconds\n    }\n    signingMessage.storeUint(args.seqno, 32);\n    signingMessage.storeUint(0, 8); // Simple order\n    for (let m of args.messages) {\n        signingMessage.storeUint(args.sendMode, 8);\n        signingMessage.storeRef((0, core_1.beginCell)().store((0, core_1.storeMessageRelaxed)(m)));\n    }\n    // Sign message\n    let signature = (0, crypto_1.sign)(signingMessage.endCell().hash(), args.secretKey);\n    // Body\n    const body = (0, core_1.beginCell)()\n        .storeBuffer(signature)\n        .storeBuilder(signingMessage)\n        .endCell();\n    return body;\n}\nexports.createWalletTransferV4 = createWalletTransferV4;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}