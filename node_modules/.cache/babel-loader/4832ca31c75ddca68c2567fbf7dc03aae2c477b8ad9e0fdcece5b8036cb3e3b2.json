{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright (c) Whales Corp.\n * All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deriveSymmetricPath = exports.deriveSymmetricHardenedKey = exports.getSymmetricMasterKeyFromSeed = void 0;\nconst hmac_sha512_1 = require(\"../primitives/hmac_sha512\");\nconst SYMMETRIC_SEED = 'Symmetric key seed';\nasync function getSymmetricMasterKeyFromSeed(seed) {\n  const I = await (0, hmac_sha512_1.hmac_sha512)(SYMMETRIC_SEED, seed);\n  const IL = I.slice(32);\n  const IR = I.slice(0, 32);\n  return {\n    key: IL,\n    chainCode: IR\n  };\n}\nexports.getSymmetricMasterKeyFromSeed = getSymmetricMasterKeyFromSeed;\n;\nasync function deriveSymmetricHardenedKey(parent, offset) {\n  // Prepare data\n  const data = Buffer.concat([Buffer.alloc(1, 0), Buffer.from(offset)]);\n  // Derive key\n  const I = await (0, hmac_sha512_1.hmac_sha512)(parent.chainCode, data);\n  const IL = I.slice(32);\n  const IR = I.slice(0, 32);\n  return {\n    key: IL,\n    chainCode: IR\n  };\n}\nexports.deriveSymmetricHardenedKey = deriveSymmetricHardenedKey;\nasync function deriveSymmetricPath(seed, path) {\n  let state = await getSymmetricMasterKeyFromSeed(seed);\n  let remaining = [...path];\n  while (remaining.length > 0) {\n    let index = remaining[0];\n    remaining = remaining.slice(1);\n    state = await deriveSymmetricHardenedKey(state, index);\n  }\n  return state.key;\n}\nexports.deriveSymmetricPath = deriveSymmetricPath;","map":{"version":3,"names":["Object","defineProperty","exports","value","deriveSymmetricPath","deriveSymmetricHardenedKey","getSymmetricMasterKeyFromSeed","hmac_sha512_1","require","SYMMETRIC_SEED","seed","I","hmac_sha512","IL","slice","IR","key","chainCode","parent","offset","data","Buffer","concat","alloc","from","path","state","remaining","length","index"],"sources":["C:/Users/adams/OneDrive/Desktop/Work/slotpot/node_modules/@ton/crypto/dist/hd/symmetric.js"],"sourcesContent":["\"use strict\";\n/**\n * Copyright (c) Whales Corp.\n * All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deriveSymmetricPath = exports.deriveSymmetricHardenedKey = exports.getSymmetricMasterKeyFromSeed = void 0;\nconst hmac_sha512_1 = require(\"../primitives/hmac_sha512\");\nconst SYMMETRIC_SEED = 'Symmetric key seed';\nasync function getSymmetricMasterKeyFromSeed(seed) {\n    const I = await (0, hmac_sha512_1.hmac_sha512)(SYMMETRIC_SEED, seed);\n    const IL = I.slice(32);\n    const IR = I.slice(0, 32);\n    return {\n        key: IL,\n        chainCode: IR,\n    };\n}\nexports.getSymmetricMasterKeyFromSeed = getSymmetricMasterKeyFromSeed;\n;\nasync function deriveSymmetricHardenedKey(parent, offset) {\n    // Prepare data\n    const data = Buffer.concat([Buffer.alloc(1, 0), Buffer.from(offset)]);\n    // Derive key\n    const I = await (0, hmac_sha512_1.hmac_sha512)(parent.chainCode, data);\n    const IL = I.slice(32);\n    const IR = I.slice(0, 32);\n    return {\n        key: IL,\n        chainCode: IR,\n    };\n}\nexports.deriveSymmetricHardenedKey = deriveSymmetricHardenedKey;\nasync function deriveSymmetricPath(seed, path) {\n    let state = await getSymmetricMasterKeyFromSeed(seed);\n    let remaining = [...path];\n    while (remaining.length > 0) {\n        let index = remaining[0];\n        remaining = remaining.slice(1);\n        state = await deriveSymmetricHardenedKey(state, index);\n    }\n    return state.key;\n}\nexports.deriveSymmetricPath = deriveSymmetricPath;\n"],"mappings":"AAAA,YAAY;;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,mBAAmB,GAAGF,OAAO,CAACG,0BAA0B,GAAGH,OAAO,CAACI,6BAA6B,GAAG,KAAK,CAAC;AACjH,MAAMC,aAAa,GAAGC,OAAO,CAAC,2BAA2B,CAAC;AAC1D,MAAMC,cAAc,GAAG,oBAAoB;AAC3C,eAAeH,6BAA6BA,CAACI,IAAI,EAAE;EAC/C,MAAMC,CAAC,GAAG,MAAM,CAAC,CAAC,EAAEJ,aAAa,CAACK,WAAW,EAAEH,cAAc,EAAEC,IAAI,CAAC;EACpE,MAAMG,EAAE,GAAGF,CAAC,CAACG,KAAK,CAAC,EAAE,CAAC;EACtB,MAAMC,EAAE,GAAGJ,CAAC,CAACG,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;EACzB,OAAO;IACHE,GAAG,EAAEH,EAAE;IACPI,SAAS,EAAEF;EACf,CAAC;AACL;AACAb,OAAO,CAACI,6BAA6B,GAAGA,6BAA6B;AACrE;AACA,eAAeD,0BAA0BA,CAACa,MAAM,EAAEC,MAAM,EAAE;EACtD;EACA,MAAMC,IAAI,GAAGC,MAAM,CAACC,MAAM,CAAC,CAACD,MAAM,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAEF,MAAM,CAACG,IAAI,CAACL,MAAM,CAAC,CAAC,CAAC;EACrE;EACA,MAAMR,CAAC,GAAG,MAAM,CAAC,CAAC,EAAEJ,aAAa,CAACK,WAAW,EAAEM,MAAM,CAACD,SAAS,EAAEG,IAAI,CAAC;EACtE,MAAMP,EAAE,GAAGF,CAAC,CAACG,KAAK,CAAC,EAAE,CAAC;EACtB,MAAMC,EAAE,GAAGJ,CAAC,CAACG,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;EACzB,OAAO;IACHE,GAAG,EAAEH,EAAE;IACPI,SAAS,EAAEF;EACf,CAAC;AACL;AACAb,OAAO,CAACG,0BAA0B,GAAGA,0BAA0B;AAC/D,eAAeD,mBAAmBA,CAACM,IAAI,EAAEe,IAAI,EAAE;EAC3C,IAAIC,KAAK,GAAG,MAAMpB,6BAA6B,CAACI,IAAI,CAAC;EACrD,IAAIiB,SAAS,GAAG,CAAC,GAAGF,IAAI,CAAC;EACzB,OAAOE,SAAS,CAACC,MAAM,GAAG,CAAC,EAAE;IACzB,IAAIC,KAAK,GAAGF,SAAS,CAAC,CAAC,CAAC;IACxBA,SAAS,GAAGA,SAAS,CAACb,KAAK,CAAC,CAAC,CAAC;IAC9BY,KAAK,GAAG,MAAMrB,0BAA0B,CAACqB,KAAK,EAAEG,KAAK,CAAC;EAC1D;EACA,OAAOH,KAAK,CAACV,GAAG;AACpB;AACAd,OAAO,CAACE,mBAAmB,GAAGA,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}