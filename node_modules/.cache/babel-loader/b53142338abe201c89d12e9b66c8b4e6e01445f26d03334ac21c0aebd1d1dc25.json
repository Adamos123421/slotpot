{"ast":null,"code":"\"use strict\";\n\n/* Made by @Gusarich and @Miandic */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MultisigOrderBuilder = void 0;\nconst core_1 = require(\"@ton/core\");\nconst MultisigOrder_1 = require(\"./MultisigOrder\");\nclass MultisigOrderBuilder {\n  constructor(walletId, offset) {\n    this.messages = (0, core_1.beginCell)();\n    this.queryId = 0n;\n    this.walletId = walletId;\n    this.queryOffset = offset || 7200;\n  }\n  addMessage(message, mode) {\n    if (this.messages.refs >= 4) {\n      throw Error('only 4 refs are allowed');\n    }\n    this.updateQueryId();\n    this.messages.storeUint(mode, 8);\n    this.messages.storeRef((0, core_1.beginCell)().store((0, core_1.storeMessageRelaxed)(message)).endCell());\n  }\n  clearMessages() {\n    this.messages = (0, core_1.beginCell)();\n  }\n  build() {\n    return MultisigOrder_1.MultisigOrder.fromPayload((0, core_1.beginCell)().storeUint(this.walletId, 32).storeUint(this.queryId, 64).storeBuilder(this.messages).endCell());\n  }\n  updateQueryId() {\n    const time = BigInt(Math.floor(Date.now() / 1000 + this.queryOffset));\n    this.queryId = time << 32n;\n  }\n}\nexports.MultisigOrderBuilder = MultisigOrderBuilder;","map":{"version":3,"names":["Object","defineProperty","exports","value","MultisigOrderBuilder","core_1","require","MultisigOrder_1","constructor","walletId","offset","messages","beginCell","queryId","queryOffset","addMessage","message","mode","refs","Error","updateQueryId","storeUint","storeRef","store","storeMessageRelaxed","endCell","clearMessages","build","MultisigOrder","fromPayload","storeBuilder","time","BigInt","Math","floor","Date","now"],"sources":["C:/Users/adams/Downloads/GLL/slotpot/node_modules/@ton/ton/dist/multisig/MultisigOrderBuilder.js"],"sourcesContent":["\"use strict\";\n/* Made by @Gusarich and @Miandic */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultisigOrderBuilder = void 0;\nconst core_1 = require(\"@ton/core\");\nconst MultisigOrder_1 = require(\"./MultisigOrder\");\nclass MultisigOrderBuilder {\n    constructor(walletId, offset) {\n        this.messages = (0, core_1.beginCell)();\n        this.queryId = 0n;\n        this.walletId = walletId;\n        this.queryOffset = offset || 7200;\n    }\n    addMessage(message, mode) {\n        if (this.messages.refs >= 4) {\n            throw Error('only 4 refs are allowed');\n        }\n        this.updateQueryId();\n        this.messages.storeUint(mode, 8);\n        this.messages.storeRef((0, core_1.beginCell)().store((0, core_1.storeMessageRelaxed)(message)).endCell());\n    }\n    clearMessages() {\n        this.messages = (0, core_1.beginCell)();\n    }\n    build() {\n        return MultisigOrder_1.MultisigOrder.fromPayload((0, core_1.beginCell)()\n            .storeUint(this.walletId, 32)\n            .storeUint(this.queryId, 64)\n            .storeBuilder(this.messages)\n            .endCell());\n    }\n    updateQueryId() {\n        const time = BigInt(Math.floor(Date.now() / 1000 + this.queryOffset));\n        this.queryId = time << 32n;\n    }\n}\nexports.MultisigOrderBuilder = MultisigOrderBuilder;\n"],"mappings":"AAAA,YAAY;;AACZ;AACAA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,oBAAoB,GAAG,KAAK,CAAC;AACrC,MAAMC,MAAM,GAAGC,OAAO,CAAC,WAAW,CAAC;AACnC,MAAMC,eAAe,GAAGD,OAAO,CAAC,iBAAiB,CAAC;AAClD,MAAMF,oBAAoB,CAAC;EACvBI,WAAWA,CAACC,QAAQ,EAAEC,MAAM,EAAE;IAC1B,IAAI,CAACC,QAAQ,GAAG,CAAC,CAAC,EAAEN,MAAM,CAACO,SAAS,EAAE,CAAC;IACvC,IAAI,CAACC,OAAO,GAAG,EAAE;IACjB,IAAI,CAACJ,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACK,WAAW,GAAGJ,MAAM,IAAI,IAAI;EACrC;EACAK,UAAUA,CAACC,OAAO,EAAEC,IAAI,EAAE;IACtB,IAAI,IAAI,CAACN,QAAQ,CAACO,IAAI,IAAI,CAAC,EAAE;MACzB,MAAMC,KAAK,CAAC,yBAAyB,CAAC;IAC1C;IACA,IAAI,CAACC,aAAa,CAAC,CAAC;IACpB,IAAI,CAACT,QAAQ,CAACU,SAAS,CAACJ,IAAI,EAAE,CAAC,CAAC;IAChC,IAAI,CAACN,QAAQ,CAACW,QAAQ,CAAC,CAAC,CAAC,EAAEjB,MAAM,CAACO,SAAS,EAAE,CAAC,CAACW,KAAK,CAAC,CAAC,CAAC,EAAElB,MAAM,CAACmB,mBAAmB,EAAER,OAAO,CAAC,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC;EAC7G;EACAC,aAAaA,CAAA,EAAG;IACZ,IAAI,CAACf,QAAQ,GAAG,CAAC,CAAC,EAAEN,MAAM,CAACO,SAAS,EAAE,CAAC;EAC3C;EACAe,KAAKA,CAAA,EAAG;IACJ,OAAOpB,eAAe,CAACqB,aAAa,CAACC,WAAW,CAAC,CAAC,CAAC,EAAExB,MAAM,CAACO,SAAS,EAAE,CAAC,CACnES,SAAS,CAAC,IAAI,CAACZ,QAAQ,EAAE,EAAE,CAAC,CAC5BY,SAAS,CAAC,IAAI,CAACR,OAAO,EAAE,EAAE,CAAC,CAC3BiB,YAAY,CAAC,IAAI,CAACnB,QAAQ,CAAC,CAC3Bc,OAAO,CAAC,CAAC,CAAC;EACnB;EACAL,aAAaA,CAAA,EAAG;IACZ,MAAMW,IAAI,GAAGC,MAAM,CAACC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAACtB,WAAW,CAAC,CAAC;IACrE,IAAI,CAACD,OAAO,GAAGkB,IAAI,IAAI,GAAG;EAC9B;AACJ;AACA7B,OAAO,CAACE,oBAAoB,GAAGA,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}