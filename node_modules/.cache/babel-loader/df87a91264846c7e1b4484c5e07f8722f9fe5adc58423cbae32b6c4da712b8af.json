{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport socketService from '../services/socketService';\nconst useOnlineCount = () => {\n  _s();\n  const [onlineCount, setOnlineCount] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  useEffect(() => {\n    // Listen for user join/leave events to update count\n    const handleUserJoined = data => {\n      setOnlineCount(data.totalUsers || 0);\n    };\n    const handleUserLeft = data => {\n      setOnlineCount(data.totalUsers || 0);\n    };\n\n    // Request current count when connected\n    const handleConnect = () => {\n      if (socketService.socket) {\n        socketService.socket.emit('getOnlineCount');\n      }\n    };\n\n    // Set up event listeners\n    socketService.on('user:joined', handleUserJoined);\n    socketService.on('user:left', handleUserLeft);\n    socketService.on('connect', handleConnect);\n    socketService.on('onlineCount', data => {\n      setOnlineCount(data.count || 0);\n    });\n\n    // Request initial count if already connected\n    if (socketService.isConnected && socketService.socket) {\n      socketService.socket.emit('getOnlineCount');\n    }\n    return () => {\n      socketService.off('user:joined', handleUserJoined);\n      socketService.off('user:left', handleUserLeft);\n      socketService.off('connect', handleConnect);\n      socketService.off('onlineCount');\n    };\n  }, []);\n  return {\n    onlineCount,\n    isLoading\n  };\n};\n_s(useOnlineCount, \"VaY0zL/3rhj8WbwXPO3Znu+G94s=\");\nexport default useOnlineCount;","map":{"version":3,"names":["useState","useEffect","socketService","useOnlineCount","_s","onlineCount","setOnlineCount","isLoading","setIsLoading","handleUserJoined","data","totalUsers","handleUserLeft","handleConnect","socket","emit","on","count","isConnected","off"],"sources":["C:/Users/adams/OneDrive/Desktop/Work/slotpot/src/hooks/useOnlineCount.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport socketService from '../services/socketService';\r\n\r\nconst useOnlineCount = () => {\r\n  const [onlineCount, setOnlineCount] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Listen for user join/leave events to update count\r\n    const handleUserJoined = (data) => {\r\n      setOnlineCount(data.totalUsers || 0);\r\n    };\r\n\r\n    const handleUserLeft = (data) => {\r\n      setOnlineCount(data.totalUsers || 0);\r\n    };\r\n\r\n    // Request current count when connected\r\n    const handleConnect = () => {\r\n      if (socketService.socket) {\r\n        socketService.socket.emit('getOnlineCount');\r\n      }\r\n    };\r\n\r\n    // Set up event listeners\r\n    socketService.on('user:joined', handleUserJoined);\r\n    socketService.on('user:left', handleUserLeft);\r\n    socketService.on('connect', handleConnect);\r\n    socketService.on('onlineCount', (data) => {\r\n      setOnlineCount(data.count || 0);\r\n    });\r\n\r\n    // Request initial count if already connected\r\n    if (socketService.isConnected && socketService.socket) {\r\n      socketService.socket.emit('getOnlineCount');\r\n    }\r\n\r\n    return () => {\r\n      socketService.off('user:joined', handleUserJoined);\r\n      socketService.off('user:left', handleUserLeft);\r\n      socketService.off('connect', handleConnect);\r\n      socketService.off('onlineCount');\r\n    };\r\n  }, []);\r\n\r\n  return { onlineCount, isLoading };\r\n};\r\n\r\nexport default useOnlineCount;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,aAAa,MAAM,2BAA2B;AAErD,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGN,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACO,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAEjDC,SAAS,CAAC,MAAM;IACd;IACA,MAAMQ,gBAAgB,GAAIC,IAAI,IAAK;MACjCJ,cAAc,CAACI,IAAI,CAACC,UAAU,IAAI,CAAC,CAAC;IACtC,CAAC;IAED,MAAMC,cAAc,GAAIF,IAAI,IAAK;MAC/BJ,cAAc,CAACI,IAAI,CAACC,UAAU,IAAI,CAAC,CAAC;IACtC,CAAC;;IAED;IACA,MAAME,aAAa,GAAGA,CAAA,KAAM;MAC1B,IAAIX,aAAa,CAACY,MAAM,EAAE;QACxBZ,aAAa,CAACY,MAAM,CAACC,IAAI,CAAC,gBAAgB,CAAC;MAC7C;IACF,CAAC;;IAED;IACAb,aAAa,CAACc,EAAE,CAAC,aAAa,EAAEP,gBAAgB,CAAC;IACjDP,aAAa,CAACc,EAAE,CAAC,WAAW,EAAEJ,cAAc,CAAC;IAC7CV,aAAa,CAACc,EAAE,CAAC,SAAS,EAAEH,aAAa,CAAC;IAC1CX,aAAa,CAACc,EAAE,CAAC,aAAa,EAAGN,IAAI,IAAK;MACxCJ,cAAc,CAACI,IAAI,CAACO,KAAK,IAAI,CAAC,CAAC;IACjC,CAAC,CAAC;;IAEF;IACA,IAAIf,aAAa,CAACgB,WAAW,IAAIhB,aAAa,CAACY,MAAM,EAAE;MACrDZ,aAAa,CAACY,MAAM,CAACC,IAAI,CAAC,gBAAgB,CAAC;IAC7C;IAEA,OAAO,MAAM;MACXb,aAAa,CAACiB,GAAG,CAAC,aAAa,EAAEV,gBAAgB,CAAC;MAClDP,aAAa,CAACiB,GAAG,CAAC,WAAW,EAAEP,cAAc,CAAC;MAC9CV,aAAa,CAACiB,GAAG,CAAC,SAAS,EAAEN,aAAa,CAAC;MAC3CX,aAAa,CAACiB,GAAG,CAAC,aAAa,CAAC;IAClC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEd,WAAW;IAAEE;EAAU,CAAC;AACnC,CAAC;AAACH,EAAA,CA3CID,cAAc;AA6CpB,eAAeA,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}